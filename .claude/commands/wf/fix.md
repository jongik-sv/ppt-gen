---
subagent:
  primary: backend-architect
  conditions:
    backend: backend-architect
    frontend: frontend-architect
  description: ê²°í•¨ ë¶„ì„ ë° ìˆ˜ì •
mcp-servers: [context7, playwright]
hierarchy-input: true
parallel-processing: true
---

# /wf:fix - ê²°í•¨ ìˆ˜ì • (Lite)

> **ìƒíƒœ ì „í™˜**: `[ap] ìŠ¹ì¸` â†’ `[im] êµ¬í˜„`
> **ì ìš© category**: defect only
> **ê³„ì¸µ ì…ë ¥**: WP/ACT/Task ë‹¨ìœ„ (í•˜ìœ„ Task ë³‘ë ¬ ì²˜ë¦¬)

## ì‚¬ìš©ë²•

```bash
/wf:fix [PROJECT/]<WP-ID | ACT-ID | Task-ID>
```

| ì˜ˆì‹œ | ì„¤ëª… |
|------|------|
| `/wf:fix TSK-01-01` | Task ë‹¨ìœ„ |
| `/wf:fix ACT-01-01` | ACT ë‚´ ëª¨ë“  `[ap]` Task ë³‘ë ¬ |
| `/wf:fix WP-01` | WP ë‚´ ëª¨ë“  Task ë³‘ë ¬ |

---

## ìˆ˜ì • ìœ í˜• íŒì • â­

| ìœ í˜• | ì¡°ê±´ | ì‹¤í–‰ ë‹¨ê³„ |
|------|------|----------|
| Backend-only | ì˜í–¥ íŒŒì¼ì— Controller/Service/API í¬í•¨ | 1 â†’ 2 â†’ 4 â†’ 5 |
| Frontend-only | ì˜í–¥ íŒŒì¼ì— Component/Page/UI í¬í•¨ | 1 â†’ 3 â†’ 4 â†’ 5 |
| Full-stack | ë°±ì—”ë“œ + í”„ë¡ íŠ¸ì—”ë“œ ëª¨ë‘ | 1 â†’ 2 â†’ 3 â†’ 4 â†’ 5 |

---

## ì‹¤í–‰ ê³¼ì •

### 0ë‹¨ê³„: ì‚¬ì „ ê²€ì¦ â­

ëª…ë ¹ì–´ ì‹¤í–‰ ì „ ìƒíƒœ ê²€ì¦:

```bash
npx tsx .orchay/script/transition.ts {Task-ID} fix -p {project} --start
```

| ê²°ê³¼ | ì²˜ë¦¬ |
|------|------|
| `canTransition: true` | ë‹¤ìŒ ë‹¨ê³„ ì§„í–‰ |
| `canTransition: false` | ì—ëŸ¬ ì¶œë ¥ í›„ ì¦‰ì‹œ ì¢…ë£Œ |

**ì—ëŸ¬ ì¶œë ¥:**
```
[ERROR] í˜„ì¬ ìƒíƒœ [{currentStatus}]ì—ì„œ 'fix' ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
í•„ìš”í•œ ìƒíƒœ: [ap]
```

### 1ë‹¨ê³„: ê²°í•¨ ë¶„ì„ ë¬¸ì„œ ë¡œë“œ

```
010-defect-analysis.md ì¶”ì¶œ:
â”œâ”€â”€ ê²°í•¨ í˜„ìƒ ë° ì¬í˜„ ë°©ë²•
â”œâ”€â”€ ê·¼ë³¸ ì›ì¸ (Root Cause)
â”œâ”€â”€ ì˜í–¥ë°›ëŠ” íŒŒì¼ ëª©ë¡
â”œâ”€â”€ ìˆ˜ì • ë°©ì•ˆ ë° ë²”ìœ„
â””â”€â”€ íšŒê·€ í…ŒìŠ¤íŠ¸ ë²”ìœ„
```

### 2ë‹¨ê³„: Backend ê²°í•¨ ìˆ˜ì • (TDD) â­

**Red â†’ Green â†’ Refactor**:

```
ğŸ”´ Red Phase:
â”œâ”€â”€ ê²°í•¨ ì¬í˜„ í…ŒìŠ¤íŠ¸ ì‘ì„±
â””â”€â”€ í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨ í™•ì¸ (ê²°í•¨ ì¡´ì¬ ì¦ëª…)

ğŸŸ¢ Green Phase:
â”œâ”€â”€ ê·¼ë³¸ ì›ì¸ì— ë”°ë¥¸ ì½”ë“œ ìˆ˜ì •
â””â”€â”€ ìµœì†Œí•œì˜ ë³€ê²½ìœ¼ë¡œ í•´ê²°

ğŸ”µ Refactor Phase:
â”œâ”€â”€ ê´€ë ¨ ì½”ë“œ ì •ë¦¬ (ì¬ë°œ ë°©ì§€)
â””â”€â”€ ìœ ì‚¬ íŒ¨í„´ ì˜ˆë°©ì  ìˆ˜ì •
```

**íšŒê·€ í…ŒìŠ¤íŠ¸ ì‹¤í–‰**:
- ê²°í•¨ ì¬í˜„ í…ŒìŠ¤íŠ¸ â†’ **í†µê³¼** í™•ì¸
- ê¸°ì¡´ í…ŒìŠ¤íŠ¸ 100% â†’ íšŒê·€ ì—†ìŒ í™•ì¸

### 3ë‹¨ê³„: Frontend ê²°í•¨ ìˆ˜ì • (E2E) â­

**E2E í…ŒìŠ¤íŠ¸-ìˆ˜ì • ë£¨í”„** (ìµœëŒ€ 5íšŒ):

```
ğŸ”„ E2E í…ŒìŠ¤íŠ¸-ìˆ˜ì • ë£¨í”„:
â”œâ”€â”€ 1ï¸âƒ£ ê²°í•¨ ì¬í˜„ E2E í…ŒìŠ¤íŠ¸ ì‘ì„±
â”œâ”€â”€ 2ï¸âƒ£ E2E í…ŒìŠ¤íŠ¸ ë„êµ¬ ì‹¤í–‰
â”œâ”€â”€ 3ï¸âƒ£ ì‹¤íŒ¨ ë¶„ì„
â”‚   â”œâ”€â”€ Locator ì‹¤íŒ¨ â†’ data-testid í™•ì¸
â”‚   â”œâ”€â”€ Timeout â†’ waitFor ì¶”ê°€
â”‚   â””â”€â”€ Network ì—ëŸ¬ â†’ API ì—°ë™ ìˆ˜ì •
â”œâ”€â”€ 4ï¸âƒ£ ì½”ë“œ ìˆ˜ì •
â””â”€â”€ 5ï¸âƒ£ ì¬ì‹¤í–‰ (ìµœëŒ€ 5íšŒ)
```

### 4ë‹¨ê³„: íšŒê·€ ì˜í–¥ ë¶„ì„

- ìˆ˜ì •ëœ ì½”ë“œì˜ ì˜ì¡´ì„± ë¶„ì„
- í˜¸ì¶œ ê´€ê³„ íŒŒì•…
- Side Effect ë°œê²¬ ì‹œ ì¶”ê°€ ìˆ˜ì •

### 5ë‹¨ê³„: ìˆ˜ì • ë³´ê³ ì„œ ìƒì„±

**030-implementation.md ì£¼ìš” ì„¹ì…˜**:

| ì„¹ì…˜ | ë‚´ìš© |
|------|------|
| 1. ê²°í•¨ ìš”ì•½ | í˜„ìƒ, ê·¼ë³¸ ì›ì¸ |
| 2. ìˆ˜ì • ë‚´ìš© | ë³€ê²½ íŒŒì¼, ì½”ë“œ ë³€ê²½ ìƒì„¸ |
| 3. í…ŒìŠ¤íŠ¸ ê²°ê³¼ | ìˆ˜ì • ì „/í›„ ë¹„êµ, íšŒê·€ ê²°ê³¼ |
| 4. ì˜í–¥ ë¶„ì„ | ì˜í–¥ ê¸°ëŠ¥, Side Effect |
| 5. ì¬ë°œ ë°©ì§€ ëŒ€ì±… | ì˜ˆë°©ì  ìˆ˜ì •, ê¶Œì¥ ì‚¬í•­ |

---

## ìˆ˜ì • ì›ì¹™

| ì›ì¹™ | ì„¤ëª… |
|------|------|
| ê·¼ë³¸ ì›ì¸ | ì¦ìƒì´ ì•„ë‹Œ ì›ì¸ í•´ê²° |
| ìµœì†Œ ë³€ê²½ | í•„ìš”í•œ ë¶€ë¶„ë§Œ ìˆ˜ì • |
| í…ŒìŠ¤íŠ¸ ì¶”ê°€ | ì¬ë°œ ë°©ì§€ í…ŒìŠ¤íŠ¸ í•„ìˆ˜ |
| íšŒê·€ ë°©ì§€ | ê¸°ì¡´ ê¸°ëŠ¥ ì˜í–¥ ì—†ìŒ í™•ì¸ |

---

## ì¶œë ¥ ì˜ˆì‹œ

### Backend ìˆ˜ì •

```
[wf:fix] ê²°í•¨ ìˆ˜ì •

Task: TSK-02-01-01 | Category: defect
ìˆ˜ì • ìœ í˜•: Backend-only
ìƒíƒœ ì „í™˜: [ap] â†’ [im]

ğŸ“‹ ê²°í•¨ ë¶„ì„:
â”œâ”€â”€ í˜„ìƒ: Null pointer exception in user service
â”œâ”€â”€ ì›ì¸: ì‚¬ìš©ì ì¡°íšŒ ì‹œ null ì²´í¬ ëˆ„ë½
â””â”€â”€ ì˜í–¥ íŒŒì¼: UserService.ts, UserController.ts

ğŸ”§ TDD ê¸°ë°˜ ìˆ˜ì •:
â”œâ”€â”€ ğŸ”´ Red: ê²°í•¨ ì¬í˜„ í…ŒìŠ¤íŠ¸ â†’ âŒ Fail
â”œâ”€â”€ ğŸŸ¢ Green: null ì²´í¬ ë¡œì§ ì¶”ê°€
â”œâ”€â”€ ğŸ”µ Refactor: ìœ ì‚¬ íŒ¨í„´ 3ê³³ ì˜ˆë°©ì  ìˆ˜ì •
â””â”€â”€ í…ŒìŠ¤íŠ¸: ê²°í•¨ ì¬í˜„ âœ… | íšŒê·€ 45/45 âœ…

ğŸ“„ ìƒì„±: 030-implementation.md

---
ORCHAY_DONE:{project}/TSK-02-01-01:fix:success
```

### Full-stack ìˆ˜ì •

```
[wf:fix] ê²°í•¨ ìˆ˜ì •

Task: TSK-02-02-01 | Category: defect
ìˆ˜ì • ìœ í˜•: Full-stack
ìƒíƒœ ì „í™˜: [ap] â†’ [im]

ğŸ”§ Backend ìˆ˜ì •:
â”œâ”€â”€ ì‘ë‹µ êµ¬ì¡° ì •ê·œí™”
â””â”€â”€ íšŒê·€ í…ŒìŠ¤íŠ¸: 30/30 âœ…

ğŸ¨ Frontend ìˆ˜ì •:
â”œâ”€â”€ ë¡œë”© ìƒíƒœ í•´ì œ ë¡œì§ ì¶”ê°€
â”œâ”€â”€ ğŸ”„ E2E ë£¨í”„: 2íšŒ ì‹œë„
â”‚   â”œâ”€â”€ 1ì°¨: 1/3 ì‹¤íŒ¨ â†’ ì—ëŸ¬ í•¸ë“¤ë§ ì¶”ê°€
â”‚   â””â”€â”€ 2ì°¨: 3/3 âœ…
â””â”€â”€ E2E: 3/3 âœ…

ğŸ“„ ìƒì„±: 030-implementation.md

---
ORCHAY_DONE:{project}/TSK-02-02-01:fix:success
```

---

## ì—ëŸ¬ ì¼€ì´ìŠ¤

| ì—ëŸ¬ | ë©”ì‹œì§€ |
|------|--------|
| ì˜ëª»ëœ category | `[ERROR] defectë§Œ ì§€ì›í•©ë‹ˆë‹¤` |
| ì˜ëª»ëœ ìƒíƒœ | `[ERROR] ìŠ¹ì¸ ìƒíƒœê°€ ì•„ë‹™ë‹ˆë‹¤` |
| ë¶„ì„ ë¬¸ì„œ ì—†ìŒ | `[ERROR] 010-defect-analysis.mdê°€ ì—†ìŠµë‹ˆë‹¤` |
| íšŒê·€ í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨ | `[WARN] íšŒê·€ í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨: Nê±´ - Side Effect ë°œìƒ` |
| E2E 5íšŒ ì´ˆê³¼ | `[ERROR] E2E 5íšŒ ì‹œë„ í›„ ì‹¤íŒ¨. ìˆ˜ë™ ê°œì… í•„ìš”` |

---

## ì™„ë£Œ ì‹ í˜¸

ì‘ì—…ì˜ **ëª¨ë“  ì¶œë ¥ì´ ëë‚œ í›„ ê°€ì¥ ë§ˆì§€ë§‰ì—** ë‹¤ìŒ í˜•ì‹ìœ¼ë¡œ ì¶œë ¥:

**ì„±ê³µ:**
```
ORCHAY_DONE:{project}/{task-id}:fix:success
```

**ì‹¤íŒ¨:**
```
ORCHAY_DONE:{project}/{task-id}:fix:error:{ì—ëŸ¬ ìš”ì•½}
```

> âš ï¸ ì´ ì¶œë ¥ì€ orchay ìŠ¤ì¼€ì¤„ëŸ¬ê°€ ì‘ì—… ì™„ë£Œë¥¼ ê°ì§€í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤. ë°˜ë“œì‹œ ì •í™•í•œ í˜•ì‹ìœ¼ë¡œ ì¶œë ¥í•˜ì„¸ìš”.

---

## ê³µí†µ ëª¨ë“ˆ ì°¸ì¡°

@.claude/includes/wf-common-lite.md
@.claude/includes/wf-conflict-resolution-lite.md
@.claude/includes/wf-auto-commit-lite.md

---

<!--
wf:fix lite
Version: 1.1
-->
